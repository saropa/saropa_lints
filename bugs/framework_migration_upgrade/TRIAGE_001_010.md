# Migration Candidates #001–#010: Triage Results

Reviewed 2026-02-22. Source: Flutter SDK v3.35.0–v3.41.0 release notes.

---

## Implemented (3 of 10)

| # | Rule Name | Tier | Why implemented |
|---|-----------|------|-----------------|
| **003** | `avoid_asset_manifest_json` | Essential | `AssetManifest.json` removed in Flutter 3.38.0. User code that loads this path via `rootBundle.loadString('AssetManifest.json')` will crash at runtime. Detectable via string literal in Dart AST. |
| **007** | `prefer_dropdown_initial_value` | Recommended | `DropdownButtonFormField(value:)` deprecated in Flutter 3.35.0 in favor of `initialValue`. Widely-used widget, clear named-parameter rename, auto-fixable. |
| **008** | `prefer_on_pop_with_result` | Recommended | `Route.onPop` deprecated in Flutter 3.35.0 in favor of `onPopWithResult`. Detectable as named argument or method override, auto-fixable. |

---

## Rejected (7 of 10)

### #001 — Mouse cursor default change for Material buttons

**Source:** [PR #171796](https://github.com/flutter/flutter/pull/171796) (Flutter 3.41.0)
**Category:** Framework behavior change
**Rejection reason:** No user API was deprecated or removed.

This PR changed the *default* mouse cursor of Material buttons from a click cursor to a basic arrow (except on web). This is a framework-level behavior change — the default simply changed. There is no deprecated API, no renamed parameter, and no code pattern in user applications to detect or fix. Users who want the old click cursor can explicitly set `mouseCursor: SystemMouseCursors.click`, but that's a design choice, not a migration.

**Not actionable as a lint rule:** No AST pattern to detect.

---

### #002 — Drawer.child docstring fix (ListView vs SliverList)

**Source:** [PR #180326](https://github.com/flutter/flutter/pull/180326) (Flutter 3.41.0)
**Category:** Documentation-only fix
**Rejection reason:** Zero user code impact.

This PR corrected a docstring in the Flutter SDK source from mentioning `SliverList` to `ListView` as the typical child of `Drawer`. No API was changed, deprecated, or removed. The documentation was simply inaccurate. User code is unaffected regardless of whether they use `ListView` or `SliverList` inside a `Drawer`.

**Not actionable as a lint rule:** No code change for users to make.

---

### #004 — New getter for Project gradle-wrapper.properties

**Source:** [PR #175485](https://github.com/flutter/flutter/pull/175485) (Flutter 3.38.0)
**Category:** Flutter tool internal refactoring
**Rejection reason:** Not a user-facing API.

This PR added a convenience getter to the `Project` class in Flutter's internal tool code (`flutter_tools`). The `Project` class is part of the Flutter CLI's internal implementation and is not exposed to end-user Dart/Flutter applications. There is no user code that references `Project.gradleWrapperProperties` or would benefit from this change.

**Not actionable as a lint rule:** Internal Flutter SDK API, not available to user code.

---

### #005 — gradle_utils.dart: const instead of final

**Source:** [PR #175443](https://github.com/flutter/flutter/pull/175443) (Flutter 3.38.0)
**Category:** Flutter SDK internal code style
**Rejection reason:** Internal Flutter SDK refactoring.

This PR changed `final` declarations to `const` in the Flutter SDK's own `gradle_utils.dart` file. This is a code style improvement within the Flutter tooling codebase. The general principle ("prefer const over final") is already covered by Dart's built-in `prefer_const_declarations` lint. There is nothing for end-user applications to migrate.

**Not actionable as a lint rule:** Already covered by existing Dart lints; this specific change is SDK-internal.

---

### #006 — PowerShell script: $flutterRoot instead of $gitTopLevel

**Source:** [PR #172786](https://github.com/flutter/flutter/pull/172786) (Flutter 3.38.0)
**Category:** Shell script change
**Rejection reason:** Not Dart code.

This PR modified `last_engine_commit.ps1`, a PowerShell script in the Flutter SDK, to use `$flutterRoot` instead of `$gitTopLevel`. Our linter operates on Dart AST — it cannot analyze PowerShell scripts. This is also an SDK-internal script that end users don't interact with.

**Not actionable as a lint rule:** Not Dart code; our linter only analyzes Dart AST.

---

### #009 — Gradle: toLowerCase → lowercase

**Source:** [PR #171397](https://github.com/flutter/flutter/pull/171397) (Flutter 3.35.0)
**Category:** Groovy/Gradle code change
**Rejection reason:** Not Dart code.

This PR changed `toLowerCase()` calls to `lowercase()` in Flutter's Gradle build scripts (Groovy/Kotlin DSL). This prepares for the removal of `toLowerCase` in Gradle v9. Our linter analyzes Dart source files via the Dart AST — it has no capability to parse or lint Groovy or Kotlin Gradle scripts.

**Not actionable as a lint rule:** Groovy/Gradle code, not Dart. Outside our linter's scope.

---

### #010 — addMachineOutputFlag / outputsMachineFormat

**Source:** [PR #171459](https://github.com/flutter/flutter/pull/171459) (Flutter 3.35.0)
**Category:** Flutter tool internal refactoring
**Rejection reason:** Not a user-facing API.

This PR replaced string-based `--machine` flag handling in Flutter CLI tool commands with typed methods (`addMachineOutputFlag` / `outputsMachineFormat`). These methods are part of the Flutter tool's internal `FlutterCommand` base class and are not exposed to end-user applications. No user code references these APIs.

**Not actionable as a lint rule:** Internal Flutter CLI API, not available to user code.

---

## Summary

| Outcome | Count | Candidates |
|---------|-------|------------|
| **Implemented** | 3 | #003, #007, #008 |
| **Rejected: not user-facing** | 4 | #004, #005, #006, #010 |
| **Rejected: no code change** | 2 | #001, #002 |
| **Rejected: not Dart code** | 1 | #009 |

### Common rejection patterns

1. **Flutter SDK internal changes** (#004, #005, #006, #010): Changes to Flutter CLI tools, Gradle scripts, or PowerShell scripts that end-user Dart code never touches.
2. **Framework behavior changes** (#001): Default values changed but no API was deprecated or removed — nothing to detect in user code.
3. **Documentation-only fixes** (#002): Docstring corrections with zero impact on user code.
4. **Non-Dart languages** (#009): Changes to Groovy/Gradle/PowerShell that our Dart AST linter cannot analyze.

### Criteria for viable migration rules

A migration candidate is only viable as a lint rule if ALL of these hold:
- The change affects **user-facing Dart code** (not SDK internals)
- There is a **detectable AST pattern** (constructor call, method name, string literal, etc.)
- The migration has a **clear before/after** that can be expressed as a lint + fix
